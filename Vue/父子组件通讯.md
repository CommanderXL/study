## 父子组件通讯

在`Vue`中，父子组件基本的通讯方式就是父组件通过`props`属性将数据传递给子组件，这种数据的流向是单向的，当父`props`属性发生了改变，子组件所接收到的对应的属性值也会发生改变，但是反过来却不是这样的。子组件通过`event`自定义事件的触发来通知父组件自身内部所发生的变化。

还是从一个实例出发：

```javascript
// 模板
<div id="app">
  <child-component :message="val"></child-component>
</div>


// js

Vue.component('child-component', {
  props: ['message']
  template: '<div>this is child component, I have {{message}}</div>',
})

new Vue({
  el: '#app',
  data() {
    return {
      val: 'parent val'
    }
  }
})
```

最终页面渲染出的内容为:

```javascript
this is child component, I have parent val
```

// vm._update(vm._render())
// patch
// prepatch方法
// updateChildComponent完成props等属性的setter操作